# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–∞ —Å–∞–π—Ç–µ –∏–∑-–∑–∞:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Google Drive URL (thumbnail API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤)
- SSR –ø—Ä–æ–±–ª–µ–º —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏—è fallback –¥–ª—è —Å–ª—É—á–∞–µ–≤ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏

## üîß –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Google Drive URL

**–î–æ:**
```javascript
return `https://drive.google.com/thumbnail?id=${fileId}&sz=w1000`
```

**–ü–æ—Å–ª–µ:**
```javascript
return `https://drive.google.com/uc?export=view&id=${fileId}`
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ fallback –¥–ª—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

```javascript
const handleImageError = (event) => {
  console.warn('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', event.target.src)
  
  // –ï—Å–ª–∏ —ç—Ç–æ Google Drive —Å—Å—ã–ª–∫–∞, –ø—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π URL
  const currentSrc = event.target.src
  if (currentSrc.includes('drive.google.com/uc?export=view')) {
    const fileId = currentSrc.match(/id=([a-zA-Z0-9_-]+)/)?.[1]
    if (fileId) {
      // –ü—Ä–æ–±—É–µ–º thumbnail URL –∫–∞–∫ fallback
      event.target.src = `https://drive.google.com/thumbnail?id=${fileId}&sz=w800`
      return
    }
  }
  
  emit('error', event)
}
```

### 3. –£–±—Ä–∞–ª–∏ SSR –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```vue
<template>
  <ClientOnly>
    <img
      v-if="isClient && finalImageUrl"
      :src="finalImageUrl"
      :alt="alt"
      :class="imageClass"
      loading="lazy"
      decoding="async"
      @error="handleImageError"
      @load="handleImageLoad"
    />
    <template #fallback>
      <div :class="imageClass" class="bg-gray-200 animate-pulse" style="min-height: 200px;"></div>
    </template>
  </ClientOnly>
</template>
```

### 4. –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É

```javascript
const isClient = ref(false)

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
if (typeof window !== 'undefined') {
  isClient.value = true
}
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å
- ‚ùå –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ Google Drive –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚ùå SSR –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- ‚ùå –ù–µ—Ç fallback –¥–ª—è –æ—à–∏–±–æ–∫

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Google Drive URL** - `uc?export=view`
- ‚úÖ **Fallback –¥–ª—è –æ—à–∏–±–æ–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ thumbnail
- ‚úÖ **–£–±—Ä–∞–ª–∏ SSR** –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ** –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
2. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ Google Drive URL** - –∏–∑ —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É
3. **Fallback –ø—Ä–∏ –æ—à–∏–±–∫–µ** - –µ—Å–ª–∏ –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–±—É–µ–º thumbnail
4. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª

- `app/components/GoogleDriveImage.vue` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–¢–µ–ø–µ—Ä—å –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üñºÔ∏è 